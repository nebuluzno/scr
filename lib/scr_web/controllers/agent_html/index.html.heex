<div class="container fade-in">
  <div class="page-header">
    <h1>ğŸ‘¥ Agents</h1>
    <p class="subtitle">Active agents in the runtime</p>
  </div>
  
  <div class="agents-grid">
    <%= if @agents == [] do %>
      <div class="empty-state card">
        <div class="empty-state-icon">ğŸ‘»</div>
        <p>No agents running</p>
        <a href="/tasks/new" class="btn btn-primary">Start a Task</a>
      </div>
    <% else %>
      <%= for agent <- @agents do %>
        <a href={"/agents/#{agent.agent_id}"} class="agent-card card">
          <div class="agent-icon">
            <%= case agent.agent_type do
              :planner -> "ğŸ¯"
              :worker -> "âš™ï¸"
              :critic -> "ğŸ”"
              :memory -> "ğŸ’¾"
              _ -> "ğŸ¤–"
            end %>
          </div>
          <div class="agent-content">
            <div class="agent-header">
              <span class="agent-id"><%= agent.agent_id %></span>
              <span class={"badge #{case agent.status do
                :running -> "badge-success"
                :idle -> "badge-info"
                :processing -> "badge-warning"
                _ -> "badge-error"
              end}"}>
                <%= case agent.status do
                  :running -> "â— Running"
                  :idle -> "â—‹ Idle"
                  :processing -> "â— Processing"
                  _ -> "â—‹ " <> to_string(agent.status)
                end %>
              </span>
            </div>
            <div class="agent-meta">
              <span class="agent-type">
                <span class="meta-label">Type:</span>
                <%= agent.agent_type |> to_string() |> String.capitalize() %>
              </span>
            </div>
          </div>
          <div class="agent-arrow">â†’</div>
        </a>
      <% end %>
    <% end %>
  </div>
  
  <div class="section">
    <h2>ğŸ“– Agent Types</h2>
    <div class="agent-types-grid">
      <div class="agent-type-card">
        <div class="type-icon">ğŸ¯</div>
        <h3>PlannerAgent</h3>
        <p>Decomposes tasks and coordinates workers</p>
      </div>
      <div class="agent-type-card">
        <div class="type-icon">âš™ï¸</div>
        <h3>WorkerAgent</h3>
        <p>Executes subtasks with LLM + tools</p>
      </div>
      <div class="agent-type-card">
        <div class="type-icon">ğŸ”</div>
        <h3>CriticAgent</h3>
        <p>Evaluates results and provides feedback</p>
      </div>
      <div class="agent-type-card">
        <div class="type-icon">ğŸ’¾</div>
        <h3>MemoryAgent</h3>
        <p>Stores persistent memory for tasks</p>
      </div>
    </div>
  </div>
  
  <div class="actions-bar">
    <a href="/" class="btn btn-secondary">â† Back to Dashboard</a>
    <a href="/tasks/new" class="btn btn-primary">â• New Task</a>
  </div>
</div>

